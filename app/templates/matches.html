{% extends "material/base.html" %}
{% import "material/utils.html" as util %}

{% block title %}Roomii{% endblock %}


{% block content %}
<nav class="yellow darken-1" role="navigation">
	<div class = "nav-wrapper yellow darken-1">
		<a href = "#" class = "brand-logo left">Roomii</a>
		<ul id = "nav-mobile" class = "right hide-on-med-and-down">
			<li><a href = "#">Nav1</a></li>
			<li><a href = "#">Nav2</a></li>
			<li><a href = "#">Nav3</a></li>
		</ul>
	</div>
</nav>

<div class="container blue lighten-4" style="height: 100%;">
	<div class="section">
		<div class="row">	
			<div class="col s12 m12 l12">
				<div id="profile-details" class="section" style="width: 100%;">
					<table id="myTable" class="striped" style="width: 100%;">
					</table>
				</div>
			</div>
		</div>
	</div>
</div>

<script>
	var table = document.getElementById("myTable");
	var i;
	var matchups = {{matchups | tojson}};
	var checkFriends = {{checkFriends | tojson}};
	for (i = 0; i < 20; i++) {
		var row = table.insertRow(table.rows.length);
		row.innerHTML = '<tr style="height: 100"></tr>';
		var blank = row.insertCell(0);
		var nameCell = row.insertCell(1);
		var emailCell = row.insertCell(2);
		var descriptionCell = row.insertCell(3);
		descriptionCell.innerHTML = '<td colspan="2"></td>';
		var buttonCell = row.insertCell(4);
		var nameText = "Name: ";
		var emailText = "Email: ";
		var descriptionText = "Description: ";
		nameText += matchups[i][1];
		nameText += " ";
		nameText += matchups[i][2];
		emailText += matchups[i][0];
		emailText += "@duke.edu";
		var nameNode = document.createTextNode(nameText);
		var emailNode = document.createTextNode(emailText);
		var descriptionNode = document.createTextNode(descriptionText);
		var buttonText = '<button class="btn waves-effect waves-light" type="submit" name="action" onclick="requestFriend(sender, recipient)">Add Friend<form id="addFriend" name="addFriend" action="" method="post"></form></button>';
		if( checkFriends[i] ) {
			buttonText = '<form action="" method="post"><button class="btn waves-effect waves-light" type="submit" name="action">Visit Profile</button></form>';
		}
		buttonCell.innerHTML = buttonText;
		nameCell.append(nameNode);
		emailCell.append(emailNode);
		descriptionCell.append(descriptionNode);
	}

	function requestFriend(sender, recipient) {
		document.getElementById("addFriend").innerHTML = '';
	}
	function visitPage(toVisit) {

	}
</script>
{% endblock %}






